(()=>{var t,e=[];function n(){var t=e.reduce((function(t,e){return t+parseInt(e.value)}),0);document.querySelector("#total").textContent=t}function a(){var t=document.querySelector("#tbody");t.innerHTML="",e.forEach((function(e){var n=document.createElement("tr");n.innerHTML="\n      <td>".concat(e.name,"</td>\n      <td>").concat(e.value,"</td>\n    "),t.appendChild(n)}))}function o(){var n=e.slice().reverse(),a=0,o=n.map((function(t){var e=new Date(t.date);return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())})),c=n.map((function(t){return a+=parseInt(t.value)}));t&&t.destroy();var r=document.getElementById("myChart").getContext("2d");t=new Chart(r,{type:"line",data:{labels:o,datasets:[{label:"Total Over Time",fill:!0,backgroundColor:"#6666ff",data:c}]}})}function c(t){var c=document.querySelector("#t-name"),u=document.querySelector("#t-amount"),i=document.querySelector(".form .error");if(""!==c.value&&""!==u.value){i.textContent="";var l={name:c.value,value:u.value,date:(new Date).toISOString()};t||(l.value*=-1),e.unshift(l),o(),a(),n(),fetch("/api/transaction",{method:"POST",body:JSON.stringify(l),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t.errors?i.textContent="Missing Information":(c.value="",u.value="")})).catch((function(t){r(l),c.value="",u.value=""}))}else i.textContent="Missing Information"}fetch("/api/transaction").then((function(t){return t.json()})).then((function(t){e=t,n(),a(),o()}));var r=function(t){fetch("http://localhost:3000/api/transaction",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}})};document.querySelector("#add-btn").onclick=function(){c(!0)},document.querySelector("#sub-btn").onclick=function(){c(!1)}})();